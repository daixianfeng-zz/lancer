!function(){function e(e,r){var n=[];t.UA=function(){var e=navigator.userAgent;return{isAndroid:e.indexOf("Android")>-1||e.indexOf("Adr")>-1,isIOS:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),isMobile:/Android|webOS|Pad|iPhone|iPod|Windows Phone|BlackBerry|MeeGo/i.test(e)}},t.ddpr=function(){e(window).on("resize",function(t){var r=e(window).width(),n=r/375*100;r>420?e("html").css("fontSize","112px"):r<320?e("html").css("fontSize","85.33px"):e("html").css("fontSize",n+"px")}),e(window).trigger("resize"),e(window).on("orientationchange",function(e){e.preventDefault()})},t.getCommonParams=function(r){var n=function(){var r=e("#render-data")[0].contentWindow.document,n=e(r).find("meta[name='_csrf']").attr("content"),o=e(r).find("meta[name='_csrf_header']").attr("content"),a=e(r).find("meta[name='_csrf_parameter']").attr("content"),i=e(r).find("meta[name='_cipher_public']").attr("content");e("head").append('<meta name="_csrf" content="'+n+'">'),e("head").append('<meta name="_csrf_header" content="'+o+'">'),e("head").append('<meta name="_csrf_parameter" content="'+a+'">'),e("head").append('<meta name="_cipher_public" content="'+i+'">'),e(document).ajaxSend(function(e,t,r){o&&t.setRequestHeader(o,n)}),e("head").append('<meta name="_render_ready" content="ready">'),t.onReady()},o=e('<iframe id="render-data" src="'+(r=r||"/_common_params")+'" frameborder="0" style="width:0;height:0;position:absolute;bottom:0;left:0;border:0;"></iframe>');o[0].attachEvent?o[0].attachEvent("onload",function(){n()}):o[0].onload=n,e(document.body).append(o)},t.onReady=function(t){"ready"===e("meta[name='_render_ready']").attr("content")?(e.each(n,function(e,t){t&&t()}),t&&t(),n=[]):n.push(t)},t.numberToMoney=function(e,t){if(+e==+e){var r=+e;t=t>=0&&t<=10?t:2;for(var n=(r=parseFloat((r+"").replace(/[^\d\.-]/g,"")).toFixed(t)+"").split(".")[0].split("").reverse(),o=r.split(".")[1],a="",i=0;i<n.length;i++)a+=n[i]+((i+1)%3==0&&i+1!==n.length?",":"");return o=o?"."+o:"",a.split("").reverse().join("")+o}return void 0===e?"":e+""},t.moneyToNumber=function(e){return 0===e||e?+parseFloat((""+e).replace(/[^\d\.-]/g,"")):NaN},t.moneyToMoney=function(e,r){var n=t.moneyToNumber(e);return n===n?t.numberToMoney(n,r):e},t.numberToWan=function(e,r){return+e==+e?t.numberToMoney(+e/1e4,r):void 0===e?"":e+""},t.wanToNumber=function(e){return 1e4*t.moneyToNumber(e)},t.moneyAdd=function(e){for(var r=0,n=0;n<e.length;n++){var o=t.moneyToNumber(money.moneyArr[n]);o===o&&(r+=o)}return t.numberToMoney(r)},t.moneyMunis=function(e){return t.numberToMoney(-t.moneyToNumber(e))},t.moneyMulti=function(e,r){return r=+r==+r?+r:1,t.numberToMoney(t.moneyToNumber(e)*r)},t.moneyAve=function(e,r){return r=+r==+r?+r:1,t.numberToMoney(t.moneyToNumber(e)/r)},t.toPercent=function(e,t){var r=+e;return t=t>=0&&t<=10?t:2,r=parseFloat((100*r+"").replace(/[^\d\.-]/g,"")).toFixed(t)+""},t.percentToNumber=function(e,t){var r=parseFloat(e);return t=t>=0&&t<=10?t:2,r=parseFloat((r/100+"").replace(/[^\d\.-]/g,"")).toFixed(t)+""},t.getParams=function(t){var r=(t||document.location.search.replace(/^\?/,"")).split("&"),n={};return e.each(r,function(e,t){var r=t.split("=");r[0]&&(n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]))}),n},t.setUrl=function(t,r){var n=[];return r=r||"/",e.each(t,function(e,t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),r+"?"+n.join("&")},t.setRedirectUrl=function(t,r){var n=[];return r=r||"/",e.each(t,function(e,t){"redirecturl"===e.toLowerCase()?r=decodeURIComponent(t):n.push(e+"="+t)}),r+"?"+n.join("&")},t.strToDate=function(e){if(!e||!e.split)return+new Date;var t=e.split("-"),r=new Date,n=r;if(t[0]&&t[1]){var o=t[2]?+t[0]:r.getFullYear(),a=t[2]?+t[1]:+t[0],i=t[2]?+t[2]:+t[1];n=new Date(+o,+a-1,+i)}return n},t.dateFormat=function(e,t){return(e=e?new Date(e):new Date).getFullYear()+"-"+("0"+(e.getMonth()+1)).substr(-2)+"-"+("0"+e.getDate()).substr(-2)},t.timeFormat=function(e,t){return("0"+(e=e?new Date(e):new Date).getHours()).substr(-2)+":"+("0"+e.getMinutes()).substr(-2)+":"+("0"+e.getSeconds()).substr(-2)},t.datetimeFormat=function(e,t){var r=(e=e?new Date(e):new Date).getFullYear(),n=("0"+(e.getMonth()+1)).substr(-2),o=("0"+e.getDate()).substr(-2),a=("0"+e.getHours()).substr(-2),i=("0"+e.getMinutes()).substr(-2),u=("0"+e.getSeconds()).substr(-2);return"time"===t?a+":"+i+":"+u:r+"-"+n+"-"+o+" "+a+":"+i+":"+u},t.datetimeBeforeFormat=function(e,t){e=e?new Date(e):new Date;var r=new Date(e).setHours(0,0,0,0),n=(+(new Date).setHours(0,0,0,0)-r)/1e3/3600/24,o=e.getFullYear(),a=("0"+(e.getMonth()+1)).substr(-2),i=("0"+e.getDate()).substr(-2),u=("0"+e.getHours()).substr(-2),d=("0"+e.getMinutes()).substr(-2),s=("0"+e.getSeconds()).substr(-2),c=o+"-"+a+"-"+i+" ";return 1===n?c="昨日 ":0===n&&(c="今日 "),"date"===t?c:c+u+":"+d+":"+s},t.timestampFormat=function(e,t){if(!e||!e.split)return+new Date;var r=e.split("-"),n=new Date,o=+n;if(r[0]&&r[1]){var a=r[2]?+r[0]:n.getFullYear(),i=r[2]?+r[1]:+r[0],u=r[2]?+r[2]:+r[1];o=+new Date(a,i-1,u)}return o};t.getCipher=function(t,n){var o=e("meta[name='_cipher_public']").attr("content");if(n=n||o||"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDRzXbucFpvRdNkmbewx52YxyJSdykmR5a6yZV8AYEWmvYrQRGltPksZZEODtX6zCdgHdp/8AaINuAiF9z9bsZ9caqyq37GU2hBiQ8ltMRUhtyjGcDDlriS2ja1ZQithrbrRuISLUR/3Ost68zqBz+qOG4MU5J2dTaIFuxraCIb/QIDAQAB",void 0!==r&&n){var a=new r;return a.setPublicKey(n),a.encrypt(t)}return!1},t.apiError=function(e,t){return"object"!=typeof t&&(t={}),e&&e.data&&(0===e.apiError||"0"===e.apiError||0===e.error||"0"===e.error)?void 0===e.data.error||"0"===e.data.error||0===e.data.error||"success"===e.data.result?(t.message=e.data.message,t.redirectUrl=e.data.redirectUrl?e.data.redirectUrl:"",t.error=0,!0):(t.message=e.data.message?e.data.message:"系统异常，请稍后再试",t.redirectUrl=e.data.redirectUrl?e.data.redirectUrl:"",t.error=e.data.error,!1):(t.message="系统异常，请稍后再试",t.msg=e.msg,t.error=null,!1)},function(){var e={};window.fmData=function(t,r){for(var n=t.split("."),o=e,a=t,i=0;i<n.length;i++)if(a=n[i],i!==n.length-1)if("object"==typeof o[a])o=o[a];else{if(void 0!==o[a])return Error("attribute not found");o[a]={},o=o[a]}if(void 0===r)return o[a];o[a]=r}}(),window.G=t}var t=window.G||{};"function"==typeof define&&define.amd?define("G",["require","jquery","JSEncrypt"],function(r){return e(r("jquery"),r("JSEncrypt")),t}):"object"==typeof module&&"object"==typeof module.exports?(e(require("jquery"),require("JSEncrypt")),module.exports=t):e(window.jQuery,window.JSEncrypt)}();