!function(){function t(t,e){t.fn.extend({animateCss:function(i,n){return t(this).addClass("animated "+i).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){t(this).removeClass("animated "+i),n&&n()}),this}});var o=function(i,n){return n=n||{},this.config=t.extend({},{bg:"rgba(0,0,0,0.7)",leftContent:function(){return i.getLevel()},onClose:function(){return!1},onOpen:function(){return!1}},n),this.init(i,this.config),this};o.prototype={init:function(i,n){this.level=i.setNewLevel(this);var e=i.getContainer(),o=t(n.el),s="";s+='<div id="accordion-'+n.id+'" class="accordion-item">',s+='    <div class="accordion-left" style="background:'+n.bg+';"></div>',s+='    <div class="accordion-content"></div>';var c=t(s+="</div>");c.find(".accordion-content").append(o.show()),c.find(".accordion-left").append(i.setLeftTips(n.leftContent)),c.animateCss("slideInRight"),e.append(c),this.$el=o,this.$container=c,this.accordionObj=i,this._setCss(i,n),this._event()},_setCss:function(t,i){var n=this.level*t.getLeftWidth(),e=(i.bg,t.$container.width()-this.level*t.getLeftWidth()),o=t.$container.width()-(this.level+1)*t.getLeftWidth(),s=t.$container.outerHeight();this.$container.css({left:n,width:e,height:s,zIndex:this.level+1}),this.$container.find(".accordion-left").css({width:t.getLeftWidth(),height:s}),this.$container.find(".accordion-content").css({width:o,height:s})},_event:function(){var i=this;this.$container.find(".accordion-left").on("click",function(n){t(n.target).hasClass("accordion-tips")||i.accordionObj.close(i.level)}),this.config.closeBtn&&t(this.config.closeBtn).on("click",function(){i.accordionObj.close(i.level)})},resize:function(){this._setCss(this.accordionObj,this.config)},destroy:function(){var i=this;this.$container.animateCss("slideOutRight",function(){i.$el.hide().appendTo(t("body")),i.$container.remove(),0===i.level&&i.accordionObj.$container.empty().hide()}).show()},onOpen:function(){this.config.onOpen&&this.config.onOpen()},onClose:function(){this.config.onClose&&this.config.onClose()}},(i=function(i,e){return e=e||{},this.config=t.extend({},{rootClass:"",onClose:function(){return!1},onOpen:function(){return!1}},e),n&&"fixed"===this.config.position?n:(this.initAccordion(i,this.config),this)}).prototype={initAccordion:function(i,e){var o=t('<div id="'+e.id+'" class="accordion-root '+e.rootClass+'"></div>');t(i).append(o),"fixed"===e.position?(o.css("position","fixed"),this.position="fixed",n=this):(o.width(t(i).outerWidth()),o.height(t(i).outerHeight()),this.position="absolute"),this.$el=t(i),this.$container=o,this.leftWidth=e.leftWidth,this.level=[],this._event()},_event:function(){var i=this;"fixed"===i.config.position&&t(window).on("resize",function(){i.resize()})},getLeftWidth:function(){return this.$container.find(".accordion-left").outerWidth()},getContainer:function(){return this.$container},getLevel:function(){return this.level.length-1},setNewLevel:function(t){return this.level.push(t),this.level.length-1},pushItem:function(t){this.level.push(t)},close:function(t){var i={};if(void 0===t)(i=this.level.pop()).destroy();else for(t=+t>0?+t:0;this.level.length>t;)(i=this.level.pop()).onClose(),i.destroy(),i=null},resize:function(){var i=this.$el;"fixed"!==this.config.position&&(this.$container.width(i.outerWidth()),this.$container.height(i.outerHeight())),t.each(this.level,function(t,i){i.resize()})},add:function(t){var i=new o(this,t);this.level.length>0&&this.$container.show(),i.onOpen(),this.resize()},setLeftTips:function(i){var n="";return n="string"==typeof i?i:i(),t('<span class="accordion-tips"><i class="left-tips-top"></i><strong>'+n+'</strong><i class="left-tips-bottom"></i></span>')}},window.GAccordion=i}var i={};"function"==typeof define&&define.amd?define("GAccordion",["require","jquery","G"],function(n){return t(n("jquery"),n("G")),i}):"object"==typeof module&&"object"==typeof module.exports?(t(require("jquery"),require("G")),module.exports=i):t(window.jQuery,window.G);var n=!1}();